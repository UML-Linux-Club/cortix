<?xml version="1.0" encoding="UTF-8"?>
<!-- Configuration of Cortix -->

<cortixConfig version="0.1">

<!-- Cortix instantiation definition -->
<!-- NB: XML elements in this level must be unique across other configuration files if
         multiple Cortix objects are used in the cortix-main.py program.
         If this rule is not followed, there will be collision with file in/outputs;
         including results files and logging files.-->

 <name>cortix1</name>

 <logger level="DEBUG">
  <fileHandler level="DEBUG"> </fileHandler>
  <consoleHandler level="INFO"> </consoleHandler>
 </logger>

 <workDir>/tmp/</workDir>

<!-- Simulation definition -->
<!-- NB: each simulation has only one application -->
 <simulation name="headend-off-gas">

  <logger level="DEBUG">
   <fileHandler level="DEBUG"> </fileHandler>
   <consoleHandler level="INFO"> </consoleHandler>
  </logger>

  <!-- Simulation: tasks -->
  <!--NB: each task combines parameters for one named application connectivity-->

  <task name="solo-shear" >
   <logger level="DEBUG">
    <fileHandler level="DEBUG"> </fileHandler>
    <consoleHandler level="INFO"> </consoleHandler>
   </logger>
   <evolveTime unit="hour">12.0</evolveTime>
   <timeStep unit="minute">1.0</timeStep>
  </task>

  <task name="solo-fuel-accum" >
   <logger level="DEBUG">
    <fileHandler level="DEBUG"> </fileHandler>
    <consoleHandler level="INFO"> </consoleHandler>
   </logger>
   <evolveTime unit="hour">24.0</evolveTime>
   <timeStep unit="minute">1.0</timeStep>
  </task>

  <task name="solo-dissolve">
   <logger level="DEBUG">
    <fileHandler level="DEBUG"> </fileHandler>
    <consoleHandler level="INFO"> </consoleHandler>
   </logger>
   <evolveTime unit="hour">8.0</evolveTime>
   <timeStep unit="minute">1.0</timeStep>
  </task>

  <task name="shear-dissolve">
   <logger level="DEBUG">
    <fileHandler level="DEBUG"> </fileHandler>
    <consoleHandler level="INFO"> </consoleHandler>
   </logger>
   <evolveTime unit="hour">22.0</evolveTime> 
<!-- <evolveTime unit="hour">5.0</evolveTime> -->
   <timeStep unit="minute">1.0</timeStep>
  </task>

  <task name="demuth1">
   <logger level="DEBUG">
    <fileHandler level="DEBUG"> </fileHandler>
    <consoleHandler level="INFO"> </consoleHandler>
   </logger>
   <evolveTime unit="hour">24.0</evolveTime>
   <timeStep unit="minute">1.0</timeStep>
  </task>

  <!-- Simulation: application -->

  <application name="demo1">

   <logger level="DEBUG">
    <fileHandler level="DEBUG"> </fileHandler>
    <consoleHandler level="INFO"> </consoleHandler>
   </logger>

   <!-- Application: modules set -->

   <module name="chopper" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>chopper.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="input">Fuel_Solid</port>
    <port type="input">Gas_Release</port>
    <port type="input">Particulate</port>
    <port type="use">solids-input</port>
    <port type="use">gas-input</port>
    <port type="use">fines-input</port>
    <port type="provide">solids</port>
    <port type="provide">off-gas</port>
    <port type="provide">fines</port>
   </module>

   <module name="chopper-standalone" type="stand-alone">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <executableName>chopper-main.py</executableName>
    <executablePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/modules/chopper/</executablePath>
    <inputFileName>chopper.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="provide">Fuel_Solid</port>
    <port type="provide">Gas_Release</port>
   </module>

   <module name="storage" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>storage.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="input">chopper-data-test</port>
    <port type="input">dissolver-data-test</port>
    <port type="use">solids</port>
    <port type="use">withdrawal-request</port>
    <port type="provide">fuel-segments</port>
    <port type="provide">off-gas</port>
    <port type="provide">state</port>
   </module>

   <module name="storage-standalone" type="stand-alone">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <executableName>storage-main.py</executableName>
    <executablePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/modules/storage/</executablePath>
    <inputFileName>storage.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="input">chopper-data-test</port>
    <port type="input">dissolver-data-test</port>
    <port type="use">solids</port>
    <port type="use">withdrawal-request</port>
    <port type="provide">fuel-segments</port>
    <port type="provide">off-gas</port>
   </module>

   <module name="dissolver" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>dissolver.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">solids</port>
    <port type="use">condensate</port>
    <port type="provide">signal</port>
    <port type="provide">state</port>
    <port type="provide">product</port>
    <port type="provide">vapor</port>
    <port type="provide">heat</port>
   </module>

   <module name="dissolver-standalone" type="stand-alone">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <executableName>dissolver-main.py</executableName>
    <executablePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/modules/dissolver/</executablePath>
    <inputFileName>dissolver.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">solids</port>
    <port type="use">condensate</port>
    <port type="provide">signal</port>
    <port type="provide">product</port>
    <port type="provide">vapor</port>
    <port type="provide">heat</port>
   </module>

   <module name="condenser" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>condenser.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">vapor</port>
    <port type="provide">off-gas</port>
    <port type="provide">condensate</port>
    <port type="provide">cooling</port>
   </module>

   <module name="condenser-standalone" type="stand-alone">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <executableName>condenser-main.py</executableName>
    <executablePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/modules/condenser/</executablePath>
    <inputFileName>condenser.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">vapor</port>
    <port type="provide">off-gas</port>
    <port type="provide">condensate</port>
    <port type="provide">cooling</port>
   </module>

   <module name="scrubber" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>scrubber.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">inflow-gas</port>
    <port type="provide">off-gas</port>
   </module>

   <module name="filter" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>filter.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">inflow-gas</port>
    <port type="provide">off-gas</port>
   </module>

   <module name="offgas" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>offgas.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">inflow-gas</port>
    <port type="provide">off-gas</port>
   </module>

   <module name="plume" type="wrapped">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>plume.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <executableName>pfpl</executableName>
    <executablePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/facility_pfpl/</executablePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">off-gas</port>
    <port type="provide">time-puff</port>
   </module>

   <module name="pyplot" type="native">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <inputFileName>pyplot.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">time-sequence</port>
    <port type="use">time-tables</port>
   </module>

   <module name="pyplot-standalone" type="stand-alone">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <executableName>pyplot-main.py</executableName>
    <executablePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/modules/pyplot/</executablePath>
    <inputFileName>pyplot.input</inputFileName>
    <inputFilePath>/home/dealmeida/mac-fvu/gentoo-home/work/codes/reprocessing/cortix/input/</inputFilePath>
    <!-- Ports have three types: 1) use, 2) provide, 3) input -->
    <!-- The *input* type allows for module self-connection; see network section  -->
    <port type="use">time-sequence</port>
   </module>

   <!-- Application: networks -->
   <!-- NB: each network has its own task definition above; with the same name -->
   <!-- NB: the connect tag is ordered: *from* is the receiver; *to* is the provider-->

   <!-- stand-alone module -->
   <network name="solo-shear">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <!-- For self-connection of a module: fromPort is use type; toPort is input type-->
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="chopper" toPort="Gas_Release"/> 
   </network>

   <network name="solo-fuel-accum">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <!-- For self-connection of a module: fromPort is use type; toPort is input type-->
    <connect fromModule="storage" fromPort="solids" toModule="storage" toPort="chopper-data-test"/> 
    <connect fromModule="storage" fromPort="withdrawal-request" toModule="storage" toPort="dissolver-data-test"/> 
   </network>

   <!-- stand-alone module -->
   <network name="solo-dissolve">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <!-- For self-connection of a module: fromPort is use type; toPort is input type-->
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="dissolver" toPort="vapor"/> 
   </network>

   <!-- connected modules -->
   <network name="shear-dissolve">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <!-- For self-connection of a module: fromPort is use type; toPort is input type-->
    <connect fromModule="chopper" fromPort="solids-input" toModule="chopper" toPort="Fuel_Solid"/> 
    <connect fromModule="chopper" fromPort="gas-input" toModule="chopper" toPort="Gas_Release"/> 
    <connect fromModule="chopper" fromPort="fines-input" toModule="chopper" toPort="Particulate"/> 
    <connect fromModule="storage" fromPort="solids" toModule="chopper" toPort="solids"/> 
    <connect fromModule="storage" fromPort="withdrawal-request" toModule="dissolver" toPort="signal"/> 
    <connect fromModule="dissolver" fromPort="solids" toModule="storage" toPort="fuel-segments"/> 
    <connect fromModule="condenser" fromPort="vapor" toModule="dissolver" toPort="vapor"/> 
    <connect fromModule="dissolver" fromPort="condensate" toModule="condenser" toPort="condensate"/> 
    <connect fromModule="scrubber" fromPort="inflow-gas" toModule="chopper" toPort="off-gas"/> 
    <connect fromModule="scrubber" fromPort="inflow-gas" toModule="storage" toPort="off-gas"/> 
    <connect fromModule="scrubber" fromPort="inflow-gas" toModule="condenser" toPort="off-gas"/> 
    <connect fromModule="filter" fromPort="inflow-gas" toModule="scrubber" toPort="off-gas"/> 
    <connect fromModule="offgas" fromPort="inflow-gas" toModule="filter" toPort="off-gas"/> 
<!--
    <connect fromModule="plume" fromPort="off-gas" toModule="offgas" toPort="off-gas"/> 
-->
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="chopper" toPort="off-gas"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="storage" toPort="off-gas"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="storage" toPort="state"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="dissolver" toPort="signal"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="dissolver" toPort="vapor"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="dissolver" toPort="state"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="condenser" toPort="off-gas"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="condenser" toPort="condensate"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="scrubber" toPort="off-gas"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="filter" toPort="off-gas"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="offgas" toPort="off-gas"/> 
<!--
    <connect fromModule="pyplot" fromPort="time-tables" toModule="plume" toPort="time-puff"/> 
-->
   </network>

   <!-- connected modules -->
   <network name="demuth1">
    <logger level="DEBUG">
     <fileHandler level="DEBUG"> </fileHandler>
     <consoleHandler level="INFO"> </consoleHandler>
    </logger>
    <!-- For self-connection of a module: fromPort is use type; toPort is input type-->
    <connect fromModule="storage" fromPort="solids" toModule="chopper" toPort="Fuel_Solid"/> 
    <connect fromModule="storage" fromPort="withdrawal-request" toModule="dissolver" toPort="signal"/> 
    <connect fromModule="dissolver" fromPort="solids" toModule="storage" toPort="fuel-segments"/> 
    <connect fromModule="condenser" fromPort="vapor" toModule="dissolver" toPort="vapor"/> 
    <connect fromModule="dissolver" fromPort="condensate" toModule="condenser" toPort="condensate"/> 
    <connect fromModule="pyplot" fromPort="time-sequence" toModule="dissolver" toPort="vapor"/> 
   </network>

  </application>

 </simulation>

</cortixConfig>
